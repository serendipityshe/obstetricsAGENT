nohup: 忽略输入
2025-09-08 18:24:47,244 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-09-08 18:24:47,244 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 18:24:47,245 INFO sqlalchemy.engine.Engine select current_schema()
2025-09-08 18:24:47,245 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 18:24:47,245 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-09-08 18:24:47,245 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 18:24:47,245 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-08 18:24:47,247 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,247 INFO sqlalchemy.engine.Engine [generated in 0.00018s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,248 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,248 INFO sqlalchemy.engine.Engine [cached since 0.001119s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,248 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,248 INFO sqlalchemy.engine.Engine [cached since 0.001491s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,249 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,249 INFO sqlalchemy.engine.Engine [cached since 0.001808s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,249 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,249 INFO sqlalchemy.engine.Engine [cached since 0.002107s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,249 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,249 INFO sqlalchemy.engine.Engine [cached since 0.002412s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,250 INFO sqlalchemy.engine.Engine COMMIT
2025-09-08 18:24:47,292 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-09-08 18:24:47,292 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 18:24:47,292 INFO sqlalchemy.engine.Engine select current_schema()
2025-09-08 18:24:47,293 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 18:24:47,293 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-09-08 18:24:47,293 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 18:24:47,293 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-08 18:24:47,294 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,294 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,295 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,295 INFO sqlalchemy.engine.Engine [cached since 0.0008986s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,295 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,295 INFO sqlalchemy.engine.Engine [cached since 0.001231s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,295 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,295 INFO sqlalchemy.engine.Engine [cached since 0.001504s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,296 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,296 INFO sqlalchemy.engine.Engine [cached since 0.001777s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,296 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:47,296 INFO sqlalchemy.engine.Engine [cached since 0.002021s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:47,296 INFO sqlalchemy.engine.Engine COMMIT
2025-09-08 18:24:50,616 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-09-08 18:24:50,616 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-08 18:24:50,616 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 18:24:50,616 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-08 18:24:50,617 INFO sqlalchemy.engine.Engine select current_schema()
2025-09-08 18:24:50,617 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-08 18:24:50,617 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 18:24:50,617 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-08 18:24:50,617 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-09-08 18:24:50,617 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-08 18:24:50,617 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 18:24:50,617 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-08 18:24:50,617 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-08 18:24:50,617 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-08 18:24:50,618 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,618 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,618 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,618 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,619 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,619 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,619 INFO sqlalchemy.engine.Engine [cached since 0.001077s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,619 - sqlalchemy.engine.Engine - INFO - [cached since 0.001077s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,620 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,620 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,620 INFO sqlalchemy.engine.Engine [cached since 0.001458s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,620 - sqlalchemy.engine.Engine - INFO - [cached since 0.001458s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,620 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,620 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,620 INFO sqlalchemy.engine.Engine [cached since 0.001792s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,620 - sqlalchemy.engine.Engine - INFO - [cached since 0.001792s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,620 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,620 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,620 INFO sqlalchemy.engine.Engine [cached since 0.002121s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,620 - sqlalchemy.engine.Engine - INFO - [cached since 0.002121s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,621 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,621 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 18:24:50,621 INFO sqlalchemy.engine.Engine [cached since 0.00242s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,621 - sqlalchemy.engine.Engine - INFO - [cached since 0.00242s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 18:24:50,621 INFO sqlalchemy.engine.Engine COMMIT
2025-09-08 18:24:50,621 - sqlalchemy.engine.Engine - INFO - COMMIT
WARNING:  Current configuration will not reload as not all conditions are met, please refer to documentation.
INFO:     Started server process [3546663]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)
2025-09-08 19:49:13,138 - pregnant-workflow-api - INFO - 接收孕妇工作流请求：maternal_id=10, chat_id=chat_20250908_001, input=羊水过多怎么办...
2025-09-08 19:49:13,145 - backend.workflow.test - INFO - 文档路径=/root/project2/test/孕前和孕期保健指南.doc
2025-09-08 19:49:13,145 - backend.workflow.test - INFO - 路径解析完成， 图片路径=None，文档路径=/root/project2/test/孕前和孕期保健指南.doc
2025-09-08 19:49:13,149 - backend.workflow.test - INFO - 启动混合智能体，开始融合用户输入与文件内容
文档处理中：/root/project2/test/孕前和孕期保健指南.doc
开始加载文件：/root/project2/test/孕前和孕期保健指南.doc
2025-09-08 19:49:13,156 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-09-08 19:49:13,156 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-08 19:49:13,156 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 19:49:13,156 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-08 19:49:13,156 INFO sqlalchemy.engine.Engine select current_schema()
2025-09-08 19:49:13,156 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-08 19:49:13,157 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 19:49:13,157 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-08 19:49:13,157 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-09-08 19:49:13,157 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-08 19:49:13,158 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-08 19:49:13,158 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-08 19:49:13,158 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-08 19:49:13,158 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-08 19:49:13,159 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,159 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,160 INFO sqlalchemy.engine.Engine [generated in 0.00028s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,160 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,165 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,165 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,165 INFO sqlalchemy.engine.Engine [cached since 0.005268s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,165 - sqlalchemy.engine.Engine - INFO - [cached since 0.005268s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,166 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,166 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,166 INFO sqlalchemy.engine.Engine [cached since 0.006797s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,166 - sqlalchemy.engine.Engine - INFO - [cached since 0.006797s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,167 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,167 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,167 INFO sqlalchemy.engine.Engine [cached since 0.007896s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,167 - sqlalchemy.engine.Engine - INFO - [cached since 0.007896s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,168 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,168 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,168 INFO sqlalchemy.engine.Engine [cached since 0.008448s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,168 - sqlalchemy.engine.Engine - INFO - [cached since 0.008448s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,170 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,170 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-08 19:49:13,170 INFO sqlalchemy.engine.Engine [cached since 0.01063s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,170 - sqlalchemy.engine.Engine - INFO - [cached since 0.01063s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-08 19:49:13,170 INFO sqlalchemy.engine.Engine COMMIT
2025-09-08 19:49:13,170 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-08 19:49:13,180 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-08 19:49:13,180 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-08 19:49:13,181 INFO sqlalchemy.engine.Engine SELECT maternal_dialogue.id AS maternal_dialogue_id, maternal_dialogue.maternal_id AS maternal_dialogue_maternal_id, maternal_dialogue.chat_id AS maternal_dialogue_chat_id, maternal_dialogue.dialogue_content AS maternal_dialogue_dialogue_content, maternal_dialogue.vector_store_path AS maternal_dialogue_vector_store_path, maternal_dialogue.created_at AS maternal_dialogue_created_at 
FROM maternal_dialogue 
WHERE maternal_dialogue.maternal_id = %(maternal_id_1)s AND maternal_dialogue.chat_id = %(chat_id_1)s
2025-09-08 19:49:13,181 - sqlalchemy.engine.Engine - INFO - SELECT maternal_dialogue.id AS maternal_dialogue_id, maternal_dialogue.maternal_id AS maternal_dialogue_maternal_id, maternal_dialogue.chat_id AS maternal_dialogue_chat_id, maternal_dialogue.dialogue_content AS maternal_dialogue_dialogue_content, maternal_dialogue.vector_store_path AS maternal_dialogue_vector_store_path, maternal_dialogue.created_at AS maternal_dialogue_created_at 
FROM maternal_dialogue 
WHERE maternal_dialogue.maternal_id = %(maternal_id_1)s AND maternal_dialogue.chat_id = %(chat_id_1)s
2025-09-08 19:49:13,181 INFO sqlalchemy.engine.Engine [generated in 0.00024s] {'maternal_id_1': 10, 'chat_id_1': 'chat_20250908_001'}
2025-09-08 19:49:13,181 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] {'maternal_id_1': 10, 'chat_id_1': 'chat_20250908_001'}
2025-09-08 19:49:13,182 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-08 19:49:13,182 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-08 19:49:13,182 - backend.workflow.test - WARNING - 未查询到孕妇10的对话记录。默认使用空字符串
2025-09-08 19:49:13,509 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./data/models/embed/models--BAAI--bge-large-zh-v1.5/snapshots/79e7739b6ab944e86d6171e44d24c997fc1e0116
2025-09-08 19:49:14,180 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2025-09-08 19:49:14,487 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./data/models/embed/models--BAAI--bge-large-zh-v1.5/snapshots/79e7739b6ab944e86d6171e44d24c997fc1e0116
2025-09-08 19:49:15,006 - chromadb.telemetry.product.posthog - INFO - Anonymized telemetry enabled. See                     https://docs.trychroma.com/telemetry for more information.
2025-09-08 19:49:15,064 - backend.workflow.test - INFO - 检索智能体调用完成，开始校验结果
<class 'dict'>
output:  {'专家知识库': {'knowledge_fragments': [{'source': 'data\\raw_manuals\\《妇产科学》第10版.pdf', 'priority': 1, 'content': '第十一章\u2002 胎儿附属物异常\n154\n多， 还可能并发双胎输血综合征， 两个胎儿间的血液循环相互沟通， 受血胎儿的循环血量多， 尿量增\n加， 导致羊水过多。\n3.\u2003 胎盘脐带病变 胎盘绒毛膜血管瘤直径 ＞1cm 时，\n15%～30% 合并羊水过多。巨大胎盘、 脐\n带帆状附着也可导致羊水过多。\n4.\u2003妊娠合并症 妊娠期糖尿病患者羊水过多的发病率为 13%～\n36%。母体高血糖致胎儿血糖\n增高， 产生高渗性利尿， 并使胎盘胎膜渗出增加， 导致羊水过多。母儿 Rh 血型不合， 胎儿免疫性水肿、\n胎盘绒毛水肿影响液体交换可导致羊水过多。\n【临床表现与诊断】\n1.\u2003临床表现\n（1） 急性羊水过多： 较少见\n。多发生在妊娠 20～24 周。羊水迅速增多， 子宫于数日内明显增大，\n因腹压增加而产生一系列压迫症状。孕妇自觉腹部胀痛， 行动不便， 表情痛苦， 因膈肌抬高， 胸部受到\n挤压， 出现呼吸困难， 甚至发绀， 不能平卧。检查见腹壁皮肤紧绷发亮， 严重者皮肤变薄， 皮下静脉清\n晰可见。巨大的子宫压迫下腔静脉， 影响静脉回流， 出现下肢及外阴部水肿或静脉曲张。子宫明显大\n于妊娠月份， 因腹部张力过高， 胎位不清， 胎心遥远或听不清。\n（2）\n 慢性羊水过多： 较多见\n， 多发生在妊娠晚期。数周内羊水缓慢增多， 症状较缓和， 孕妇多能适\n应， 仅感腹部增大较快， 临床上无明显不适或仅出现轻微压迫症状， 如胸闷、 气短， 但能忍受。产检时\n宫高及腹围增加过快， 测量宫底高度及腹围大于同期孕周， 腹壁皮肤发亮、 变薄。触诊时感觉子宫张\n力大， 有液体震颤感， 胎位不清， 胎心遥远。四步触诊时， 测量宫高大于孕龄或者胎儿触诊困难或有胎\n儿漂浮感， 要考虑羊水过多可能性。\n2.\n\u2003辅助检查\n（1） 超声检查： 是重要的辅助检查方法\n， 不仅能测量羊水量， 还可了解胎儿情况， 如无脑儿、 脊柱\n裂、 胎儿水肿及双胎等。超声诊断羊水量异常的指标包括最大羊水池深度 （deepest vertical pocket， DVP）\n和羊水指数 （amniotic fluid index， AFI） 。DVP 正常值为 2～8cm， AFI 正常范围为 8～25cm。DVP≥8cm\n或 AFI≥25cm 诊断为羊水过多。也有认为以 AFI 大于该孕周的 3 个标准差或大于第 97.5 百分位数\n为诊断标准较为恰当。\n（2）\n 胎儿疾病检查：\n部分染色体异常胎儿可伴有羊水过多。羊水过多的孕妇， 除超声排除结构异\n常外， 可取羊水或脐血中胎儿细胞进行细胞或分子遗传学的检查， 了解胎儿染色体数目、 结构有无异\n常， 还可以检测是否有染色体的微小缺失或重复。通过超声测量胎儿大脑中动脉收缩期峰值流速来\n预测有无合并胎儿贫血。另外， 用 PCR 检测胎儿是否感染人类细小病毒 B19、 梅毒螺旋体、 弓形虫、\n单纯疱疹病毒、 风疹病毒、 巨细胞病毒等。但是， 羊水过多孕妇进行羊水穿刺一定要告知有胎膜破裂\n的风险， 由于羊水量多， 羊膜腔张力过高， 穿刺可能导致胎膜破裂而引起流产或早产。\n（3）\n 其他检查： 母体糖耐量试验， Rh\n血型不合者检测母体血型抗体的滴度。\n【对母儿的影响】\n1.\u2003对母体的影响 一般很少有自觉症状， 当羊水过多程度重或发展迅速时 ， 可因子宫过度膨胀\n造成压力过高及压迫邻近脏器而引起症状， 可出现类似腹腔间室综合征的表现， 严重时可引起孕妇心\n力衰竭。子宫张力过高， 除容易发生胎膜早破、 早产外， 还可发生胎盘早剥。子宫肌纤维伸展过度可\n致产后子宫收缩乏力， 产后出血发生率明显增加。\n2.\n\u2003对胎儿的影响 胎位异常、 胎儿窘迫\n、 早产增多。破膜时羊水流出过快可导致脐带脱垂。羊\n水过多的程度越重， 围产儿的死亡率越高。妊娠中期重度羊水过多的围产儿病死率超过 50%。\n【处理】\n取决于胎儿有无合并的结构异常及遗传性疾病、 孕周大小及孕妇自觉症状的严重程度。\n1.\n\u2003羊水过多合并胎儿结构异常 如为严重的胎儿结构异常， 应及时终止妊娠\n； 非严重胎儿结构\n异常， 应评估胎儿情况及预后， 以及当前新生儿外科救治技术， 并与孕妇及家属充分沟通后决定处理'}]}, '孕妇知识库': {'knowledge_fragments': [{'source': 'data\\raw_manuals\\《妇产科学》第10版.pdf', 'priority': 1, 'content': '第十一章\u2002 胎儿附属物异常\n154\n多， 还可能并发双胎输血综合征， 两个胎儿间的血液循环相互沟通， 受血胎儿的循环血量多， 尿量增\n加， 导致羊水过多。\n3.\u2003 胎盘脐带病变 胎盘绒毛膜血管瘤直径 ＞1cm 时，\n15%～30% 合并羊水过多。巨大胎盘、 脐\n带帆状附着也可导致羊水过多。\n4.\u2003妊娠合并症 妊娠期糖尿病患者羊水过多的发病率为 13%～\n36%。母体高血糖致胎儿血糖\n增高， 产生高渗性利尿， 并使胎盘胎膜渗出增加， 导致羊水过多。母儿 Rh 血型不合， 胎儿免疫性水肿、\n胎盘绒毛水肿影响液体交换可导致羊水过多。\n【临床表现与诊断】\n1.\u2003临床表现\n（1） 急性羊水过多： 较少见\n。多发生在妊娠 20～24 周。羊水迅速增多， 子宫于数日内明显增大，\n因腹压增加而产生一系列压迫症状。孕妇自觉腹部胀痛， 行动不便， 表情痛苦， 因膈肌抬高， 胸部受到\n挤压， 出现呼吸困难， 甚至发绀， 不能平卧。检查见腹壁皮肤紧绷发亮， 严重者皮肤变薄， 皮下静脉清\n晰可见。巨大的子宫压迫下腔静脉， 影响静脉回流， 出现下肢及外阴部水肿或静脉曲张。子宫明显大\n于妊娠月份， 因腹部张力过高， 胎位不清， 胎心遥远或听不清。\n（2）\n 慢性羊水过多： 较多见\n， 多发生在妊娠晚期。数周内羊水缓慢增多， 症状较缓和， 孕妇多能适\n应， 仅感腹部增大较快， 临床上无明显不适或仅出现轻微压迫症状， 如胸闷、 气短， 但能忍受。产检时\n宫高及腹围增加过快， 测量宫底高度及腹围大于同期孕周， 腹壁皮肤发亮、 变薄。触诊时感觉子宫张\n力大， 有液体震颤感， 胎位不清， 胎心遥远。四步触诊时， 测量宫高大于孕龄或者胎儿触诊困难或有胎\n儿漂浮感， 要考虑羊水过多可能性。\n2.\n\u2003辅助检查\n（1） 超声检查： 是重要的辅助检查方法\n， 不仅能测量羊水量， 还可了解胎儿情况， 如无脑儿、 脊柱\n裂、 胎儿水肿及双胎等。超声诊断羊水量异常的指标包括最大羊水池深度 （deepest vertical pocket， DVP）\n和羊水指数 （amniotic fluid index， AFI） 。DVP 正常值为 2～8cm， AFI 正常范围为 8～25cm。DVP≥8cm\n或 AFI≥25cm 诊断为羊水过多。也有认为以 AFI 大于该孕周的 3 个标准差或大于第 97.5 百分位数\n为诊断标准较为恰当。\n（2）\n 胎儿疾病检查：\n部分染色体异常胎儿可伴有羊水过多。羊水过多的孕妇， 除超声排除结构异\n常外， 可取羊水或脐血中胎儿细胞进行细胞或分子遗传学的检查， 了解胎儿染色体数目、 结构有无异\n常， 还可以检测是否有染色体的微小缺失或重复。通过超声测量胎儿大脑中动脉收缩期峰值流速来\n预测有无合并胎儿贫血。另外， 用 PCR 检测胎儿是否感染人类细小病毒 B19、 梅毒螺旋体、 弓形虫、\n单纯疱疹病毒、 风疹病毒、 巨细胞病毒等。但是， 羊水过多孕妇进行羊水穿刺一定要告知有胎膜破裂\n的风险， 由于羊水量多， 羊膜腔张力过高， 穿刺可能导致胎膜破裂而引起流产或早产。\n（3）\n 其他检查： 母体糖耐量试验， Rh\n血型不合者检测母体血型抗体的滴度。\n【对母儿的影响】\n1.\u2003对母体的影响 一般很少有自觉症状， 当羊水过多程度重或发展迅速时 ， 可因子宫过度膨胀\n造成压力过高及压迫邻近脏器而引起症状， 可出现类似腹腔间室综合征的表现， 严重时可引起孕妇心\n力衰竭。子宫张力过高， 除容易发生胎膜早破、 早产外， 还可发生胎盘早剥。子宫肌纤维伸展过度可\n致产后子宫收缩乏力， 产后出血发生率明显增加。\n2.\n\u2003对胎儿的影响 胎位异常、 胎儿窘迫\n、 早产增多。破膜时羊水流出过快可导致脐带脱垂。羊\n水过多的程度越重， 围产儿的死亡率越高。妊娠中期重度羊水过多的围产儿病死率超过 50%。\n【处理】\n取决于胎儿有无合并的结构异常及遗传性疾病、 孕周大小及孕妇自觉症状的严重程度。\n1.\n\u2003羊水过多合并胎儿结构异常 如为严重的胎儿结构异常， 应及时终止妊娠\n； 非严重胎儿结构\n异常， 应评估胎儿情况及预后， 以及当前新生儿外科救治技术， 并与孕妇及家属充分沟通后决定处理'}]}}2025-09-08 19:49:15,064 - backend.workflow.test - INFO - 检索智能体处理成功：检索到1条专家知识库结果，1条孕妇知识库结果
2025-09-08 19:49:20,851 - unstructured - INFO - convert /root/project2/test/孕前和孕期保健指南.doc as a Writer document -> /tmp/tmpbqekxqfq/孕前和孕期保健指南.docx using filter : MS Word 2007 XML
2025-09-08 19:49:22,520 - httpx - INFO - HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-08 19:49:22,532 - backend.workflow.test - INFO - 混合智能体处理成功：融合1个来源的内容
2025-09-08 19:49:22,533 - backend.workflow.test - INFO - 上下文处理完成，总长度：4255字符
2025-09-08 19:49:22,535 - backend.workflow.test - INFO - 启动合成智能体，开始生成合成输出
2025-09-08 19:49:54,115 - httpx - INFO - HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-08 19:49:54,124 - backend.workflow.test - INFO - 合成智能体处理成功：生成输出=亲爱的准妈妈，您好！看到您在关注“羊水过多”的问题，我能理解您此刻可能有一些担心和焦虑。请您先深呼吸...
2025-09-08 19:49:54,125 - pregnant-workflow-api - INFO - 工作流执行完成：是否生成output=True，是否有错误=False

加载完成，共加载173个文档
结果整合完成：共1个来源
mix_result {'input': '羊水过多怎么办', 'doc_file_path': '/root/project2/test/孕前和孕期保健指南.doc', 'img_file_path': '', 'doc_result': {'source_type': 'document', 'file_type': 'doc', 'content': '文档中未找到相关内容。', 'metadata': {'source': '/root/project2/test/孕前和孕期保健指南.doc', 'category_depth': 0, 'file_directory': '/root/project2/test', 'filename': '孕前和孕期保健指南.doc', 'languages': ['zho'], 'filetype': 'application/msword', 'last_modified': '2025-09-01T16:04:12', 'category': 'UncategorizedText', 'element_id': 'a286b58969ec40364b183bfee545b6f5'}}, 'combined_results': [{'source_type': 'document', 'file_type': 'doc', 'content': '文档中未找到相关内容。', 'metadata': {'source': '/root/project2/test/孕前和孕期保健指南.doc', 'category_depth': 0, 'file_directory': '/root/project2/test', 'filename': '孕前和孕期保健指南.doc', 'languages': ['zho'], 'filetype': 'application/msword', 'last_modified': '2025-09-01T16:04:12', 'category': 'UncategorizedText', 'element_id': 'a286b58969ec40364b183bfee545b6f5'}}]}
combined_result [{'source_type': 'document', 'file_type': 'doc', 'content': '文档中未找到相关内容。', 'metadata': {'source': '/root/project2/test/孕前和孕期保健指南.doc', 'category_depth': 0, 'file_directory': '/root/project2/test', 'filename': '孕前和孕期保健指南.doc', 'languages': ['zho'], 'filetype': 'application/msword', 'last_modified': '2025-09-01T16:04:12', 'category': 'UncategorizedText', 'element_id': 'a286b58969ec40364b183bfee545b6f5'}}]
/root/project2/backend/prompt_engineering/templates/pregnant_mother/pregnant_mother_symptom.yaml
INFO:     121.41.8.82:0 - "POST /api/v2/chat/qa HTTP/1.0" 200 OK
INFO:     104.28.158.134:0 - "GET /docs HTTP/1.0" 200 OK
INFO:     104.28.157.201:0 - "GET /openapi.json HTTP/1.0" 200 OK
INFO:     160.22.157.91:0 - "GET /docs/ HTTP/1.0" 307 Temporary Redirect
INFO:     160.22.157.91:0 - "GET /docs HTTP/1.0" 200 OK
INFO:     160.22.157.91:0 - "GET /openapi.json HTTP/1.0" 200 OK
INFO:     223.73.115.173:0 - "GET /uploads/maternal_files/1/14e10463-0698-4809-8d51-8216c7cb2aa5.jpg HTTP/1.0" 404 Not Found
INFO:     223.73.115.173:0 - "GET /favicon.ico HTTP/1.0" 404 Not Found
2025-09-09 17:52:38,696 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 17:52:38,696 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 17:52:38,697 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-09 17:52:38,697 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-09 17:52:38,697 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'username_1': '111111', 'param_1': 1}
2025-09-09 17:52:38,697 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] {'username_1': '111111', 'param_1': 1}
2025-09-09 17:52:38,698 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 17:52:38,698 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
INFO:     125.78.51.187:0 - "GET /docs HTTP/1.0" 200 OK
FastAPI收到的请求数据: 111
2025-09-09 18:53:39,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 18:53:39,899 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 18:53:39,901 INFO sqlalchemy.engine.Engine SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-09 18:53:39,901 - sqlalchemy.engine.Engine - INFO - SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-09 18:53:39,901 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'user_id_1': 1, 'param_1': 1}
2025-09-09 18:53:39,901 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] {'user_id_1': 1, 'param_1': 1}
2025-09-09 18:53:39,902 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 18:53:39,902 - sqlalchemy.engine.Engine - INFO - ROLLBACK
model_dump结果： None
INFO:     160.22.157.91:0 - "PUT /api/v2/maternal/1/info HTTP/1.0" 404 Not Found
2025-09-09 18:56:35,887 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 18:56:35,887 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 18:56:35,887 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-09 18:56:35,887 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-09 18:56:35,887 INFO sqlalchemy.engine.Engine [cached since 3837s ago] {'username_1': '111111', 'param_1': 1}
2025-09-09 18:56:35,887 - sqlalchemy.engine.Engine - INFO - [cached since 3837s ago] {'username_1': '111111', 'param_1': 1}
2025-09-09 18:56:35,888 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 18:56:35,888 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
INFO:     125.78.51.187:0 - "GET /api/v2/api/v2/maternal/1/files HTTP/1.0" 404 Not Found
INFO:     125.78.51.187:0 - "POST /api/v2/api/v2/chat/qa HTTP/1.0" 404 Not Found
INFO:     125.78.51.187:0 - "GET /api/v2/api/v2/maternal/1/files HTTP/1.0" 404 Not Found
INFO:     125.78.51.187:0 - "GET /api/v2/api/v2/maternal/1/files HTTP/1.0" 404 Not Found
FastAPI收到的请求数据: 11
2025-09-09 18:57:28,515 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 18:57:28,515 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 18:57:28,516 INFO sqlalchemy.engine.Engine SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-09 18:57:28,516 - sqlalchemy.engine.Engine - INFO - SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-09 18:57:28,516 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] {'user_id_1': 1, 'param_1': 1}
2025-09-09 18:57:28,516 - sqlalchemy.engine.Engine - INFO - [cached since 228.6s ago] {'user_id_1': 1, 'param_1': 1}
2025-09-09 18:57:28,516 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 18:57:28,516 - sqlalchemy.engine.Engine - INFO - ROLLBACK
model_dump结果： None
INFO:     125.78.51.187:0 - "PUT /api/v2/maternal/1/info HTTP/1.0" 404 Not Found
INFO:     125.78.51.187:0 - "GET /api/v2/api/v2/maternal/1/files HTTP/1.0" 404 Not Found
INFO:     125.78.51.187:0 - "GET /api/v2/api/v2/maternal/1/files HTTP/1.0" 404 Not Found
INFO:     125.78.51.187:0 - "GET /api/v2/api/v2/maternal/1/files HTTP/1.0" 404 Not Found
INFO:     125.78.51.187:0 - "GET /api/v2/api/v2/maternal/1/files HTTP/1.0" 404 Not Found
2025-09-09 18:59:14,561 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 18:59:14,561 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 18:59:14,562 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 18:59:14,562 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 18:59:14,562 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'maternal_id_1': 1}
2025-09-09 18:59:14,562 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] {'maternal_id_1': 1}
2025-09-09 18:59:14,563 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 18:59:14,563 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
INFO:     125.78.51.187:0 - "GET /api/v2/api/v2/maternal/1/files HTTP/1.0" 404 Not Found
2025-09-09 18:59:45,500 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 18:59:45,500 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 18:59:45,501 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 18:59:45,501 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 18:59:45,501 INFO sqlalchemy.engine.Engine [cached since 30.94s ago] {'maternal_id_1': 1}
2025-09-09 18:59:45,501 - sqlalchemy.engine.Engine - INFO - [cached since 30.94s ago] {'maternal_id_1': 1}
2025-09-09 18:59:45,502 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 18:59:45,502 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 19:00:36,016 - pregnant-workflow-api - INFO - 接收孕妇工作流请求：maternal_id=1, chat_id=chat_1757415586557_ug4gov0up, input=你好...
2025-09-09 19:00:36,022 - backend.workflow.test - INFO - 路径解析完成， 图片路径=None，文档路径=None
2025-09-09 19:00:36,026 - backend.workflow.test - INFO - 启动混合智能体，开始融合用户输入与文件内容
2025-09-09 19:00:36,027 - backend.workflow.test - WARNING - 混合智能体未返回有效融合内容（无文件或内容为空）
结果整合完成：共0个来源
mix_result {'input': '你好', 'doc_file_path': '', 'img_file_path': '', 'combined_results': []}
combined_result []
2025-09-09 19:00:36,031 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-09-09 19:00:36,031 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-09 19:00:36,031 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-09 19:00:36,031 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-09 19:00:36,031 INFO sqlalchemy.engine.Engine select current_schema()
2025-09-09 19:00:36,031 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-09 19:00:36,031 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-09 19:00:36,031 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-09 19:00:36,032 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-09-09 19:00:36,032 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-09 19:00:36,032 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-09 19:00:36,032 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-09 19:00:36,032 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:00:36,032 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:00:36,033 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,033 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,033 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,033 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,034 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,034 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,034 INFO sqlalchemy.engine.Engine [cached since 0.001011s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,034 - sqlalchemy.engine.Engine - INFO - [cached since 0.001011s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,034 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,034 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,034 INFO sqlalchemy.engine.Engine [cached since 0.00138s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,034 - sqlalchemy.engine.Engine - INFO - [cached since 0.00138s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,035 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,035 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,035 INFO sqlalchemy.engine.Engine [cached since 0.001718s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,035 - sqlalchemy.engine.Engine - INFO - [cached since 0.001718s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,035 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,035 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,035 INFO sqlalchemy.engine.Engine [cached since 0.002028s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,035 - sqlalchemy.engine.Engine - INFO - [cached since 0.002028s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,035 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,035 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 19:00:36,035 INFO sqlalchemy.engine.Engine [cached since 0.002304s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,035 - sqlalchemy.engine.Engine - INFO - [cached since 0.002304s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 19:00:36,035 INFO sqlalchemy.engine.Engine COMMIT
2025-09-09 19:00:36,035 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 19:00:36,036 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:00:36,036 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:00:36,037 INFO sqlalchemy.engine.Engine SELECT maternal_dialogue.id AS maternal_dialogue_id, maternal_dialogue.maternal_id AS maternal_dialogue_maternal_id, maternal_dialogue.chat_id AS maternal_dialogue_chat_id, maternal_dialogue.dialogue_content AS maternal_dialogue_dialogue_content, maternal_dialogue.vector_store_path AS maternal_dialogue_vector_store_path, maternal_dialogue.created_at AS maternal_dialogue_created_at 
FROM maternal_dialogue 
WHERE maternal_dialogue.maternal_id = %(maternal_id_1)s AND maternal_dialogue.chat_id = %(chat_id_1)s
2025-09-09 19:00:36,037 - sqlalchemy.engine.Engine - INFO - SELECT maternal_dialogue.id AS maternal_dialogue_id, maternal_dialogue.maternal_id AS maternal_dialogue_maternal_id, maternal_dialogue.chat_id AS maternal_dialogue_chat_id, maternal_dialogue.dialogue_content AS maternal_dialogue_dialogue_content, maternal_dialogue.vector_store_path AS maternal_dialogue_vector_store_path, maternal_dialogue.created_at AS maternal_dialogue_created_at 
FROM maternal_dialogue 
WHERE maternal_dialogue.maternal_id = %(maternal_id_1)s AND maternal_dialogue.chat_id = %(chat_id_1)s
2025-09-09 19:00:36,037 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'maternal_id_1': 1, 'chat_id_1': 'chat_1757415586557_ug4gov0up'}
2025-09-09 19:00:36,037 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] {'maternal_id_1': 1, 'chat_id_1': 'chat_1757415586557_ug4gov0up'}
2025-09-09 19:00:36,037 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:00:36,037 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-09 19:00:36,038 - backend.workflow.test - WARNING - 未查询到孕妇1的对话记录。默认使用空字符串
2025-09-09 19:00:36,041 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./data/models/embed/models--BAAI--bge-large-zh-v1.5/snapshots/79e7739b6ab944e86d6171e44d24c997fc1e0116
2025-09-09 19:00:36,614 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./data/models/embed/models--BAAI--bge-large-zh-v1.5/snapshots/79e7739b6ab944e86d6171e44d24c997fc1e0116
2025-09-09 19:00:37,138 - backend.workflow.test - INFO - 检索智能体调用完成，开始校验结果
2025-09-09 19:00:37,139 - backend.workflow.test - INFO - 检索智能体处理成功：检索到1条专家知识库结果，1条孕妇知识库结果
2025-09-09 19:00:37,139 - backend.workflow.test - INFO - 上下文处理完成，总长度：2063字符
2025-09-09 19:00:37,141 - backend.workflow.test - INFO - 启动合成智能体，开始生成合成输出
2025-09-09 19:00:40,999 - httpx - INFO - HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-09 19:00:41,008 - backend.workflow.test - INFO - 合成智能体处理成功：生成输出=您好，我是您的产科健康顾问，关于胎宝宝的小秘密，我来为您解答。

看到您打招呼的这一刻，就像胎宝宝在...
2025-09-09 19:00:41,009 - pregnant-workflow-api - INFO - 工作流执行完成：是否生成output=True，是否有错误=False
<class 'dict'>
output:  {'专家知识库': {'knowledge_fragments': [{'source': 'data\\raw_manuals\\《妇产科学》第10版.pdf', 'priority': 1, 'content': '14\n《中华人民共和国法定计量单位》 ， 实验室检查结果主要参考 《全国临床检验操作规程》\u2003\n（第 4 版） ， 药物名称采用 2020 版 《中国药典》 和 《中国药品通用名称》 。\n本教材为纸数融合的新形态教材， 除纸质教材外， 还有配套数字资源， 可通过纸质教材各\n章节所附的二维码识别获取内容。数字资源内容围绕执业医师考试大纲专业综合和实践技\n能要求， 包括纸质教材各章节重点教学内容相关的课件、 习题、 思考题解题思路、 案例分析、 思\n维导图、 图片、 视频、 动画、 三维模型等， 供教师课堂教学和学生课后复习使用。\n本教材是国家卫生健康委员会 “十四五” 规划教材， 供全国高等学校基础、 临床、 预防、\u2003\n口腔医学类专业本科生在临床学习阶段使用。为体现教材的广泛性和适用性， 参加编写的\n院校为39所， 涵盖部属院校、 省属院校和军队院校。全体编者均为临床和教学一线的妇产\n科资深专家。为了统一绘图风格， 邀请白城师范学院美术学院李俊毅为本教材重新绘制了\u2003\n50 幅插图。为保证教材质量， 在教材编写过程中， 先后召开了四次教材编写会议， 并邀请山东\n大学殷爱军、 彭加丽、 赵晨、 陈晶莹、 马心月、 张朝阳、 陈忠绍、 肖慧敏、 张皓程、 李壮和赵勇等人\n对教材涉及的海量文献资料进行了查证核实工作。除此之外， 还专门邀请了任慕兰等全国 50\n多位资深妇产科专家对教材初稿进行了审读， 采纳吸收了一些合理化意见。在此， 一并表示\n衷心的感谢。\n我们永远铭记 《妇产科学》 （第 1 ～ 9 版） 教材编者们为本版教材修订工作奠定的坚实基\n础， 衷心感谢他们的辛勤付出和卓越贡献， 在此， 向他们致以崇高的敬意。第10版 《妇产科\n学》 教材的内容和编排难免存在一些不当之处， 殷切希望全国广大师生和妇产科同道们给予\n批评指正， 以便再版时修正改进。\n孔北华\u3000山东大学齐鲁医院\n马\u3000丁\u3000华中科技大学同济医学院附属同济医院\n段\u3000涛\u3000同济大学附属妇产科医院\n2 0 2 4年3月1日'}]}, '孕妇知识库': {'knowledge_fragments': [{'source': 'data\\raw_manuals\\《妇产科学》第10版.pdf', 'priority': 1, 'content': '14\n《中华人民共和国法定计量单位》 ， 实验室检查结果主要参考 《全国临床检验操作规程》\u2003\n（第 4 版） ， 药物名称采用 2020 版 《中国药典》 和 《中国药品通用名称》 。\n本教材为纸数融合的新形态教材， 除纸质教材外， 还有配套数字资源， 可通过纸质教材各\n章节所附的二维码识别获取内容。数字资源内容围绕执业医师考试大纲专业综合和实践技\n能要求， 包括纸质教材各章节重点教学内容相关的课件、 习题、 思考题解题思路、 案例分析、 思\n维导图、 图片、 视频、 动画、 三维模型等， 供教师课堂教学和学生课后复习使用。\n本教材是国家卫生健康委员会 “十四五” 规划教材， 供全国高等学校基础、 临床、 预防、\u2003\n口腔医学类专业本科生在临床学习阶段使用。为体现教材的广泛性和适用性， 参加编写的\n院校为39所， 涵盖部属院校、 省属院校和军队院校。全体编者均为临床和教学一线的妇产\n科资深专家。为了统一绘图风格， 邀请白城师范学院美术学院李俊毅为本教材重新绘制了\u2003\n50 幅插图。为保证教材质量， 在教材编写过程中， 先后召开了四次教材编写会议， 并邀请山东\n大学殷爱军、 彭加丽、 赵晨、 陈晶莹、 马心月、 张朝阳、 陈忠绍、 肖慧敏、 张皓程、 李壮和赵勇等人\n对教材涉及的海量文献资料进行了查证核实工作。除此之外， 还专门邀请了任慕兰等全国 50\n多位资深妇产科专家对教材初稿进行了审读， 采纳吸收了一些合理化意见。在此， 一并表示\n衷心的感谢。\n我们永远铭记 《妇产科学》 （第 1 ～ 9 版） 教材编者们为本版教材修订工作奠定的坚实基\n础， 衷心感谢他们的辛勤付出和卓越贡献， 在此， 向他们致以崇高的敬意。第10版 《妇产科\n学》 教材的内容和编排难免存在一些不当之处， 殷切希望全国广大师生和妇产科同道们给予\n批评指正， 以便再版时修正改进。\n孔北华\u3000山东大学齐鲁医院\n马\u3000丁\u3000华中科技大学同济医学院附属同济医院\n段\u3000涛\u3000同济大学附属妇产科医院\n2 0 2 4年3月1日'}]}}
/root/project2/backend/prompt_engineering/templates/pregnant_mother/science_knowledge.yaml
INFO:     125.78.51.187:0 - "POST /api/v2/chat/qa HTTP/1.0" 200 OK
2025-09-09 19:01:11,792 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:01:11,792 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:01:11,792 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:01:11,792 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:01:11,792 INFO sqlalchemy.engine.Engine [cached since 117.2s ago] {'maternal_id_1': 1}
2025-09-09 19:01:11,792 - sqlalchemy.engine.Engine - INFO - [cached since 117.2s ago] {'maternal_id_1': 1}
2025-09-09 19:01:11,793 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:01:11,793 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 19:01:34,514 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:01:34,514 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:01:34,514 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:01:34,514 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:01:34,514 INFO sqlalchemy.engine.Engine [cached since 140s ago] {'maternal_id_1': 1}
2025-09-09 19:01:34,514 - sqlalchemy.engine.Engine - INFO - [cached since 140s ago] {'maternal_id_1': 1}
2025-09-09 19:01:34,515 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:01:34,515 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 19:01:35,053 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:01:35,053 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:01:35,053 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:01:35,053 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:01:35,053 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] {'maternal_id_1': 1}
2025-09-09 19:01:35,053 - sqlalchemy.engine.Engine - INFO - [cached since 140.5s ago] {'maternal_id_1': 1}
2025-09-09 19:01:35,054 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:01:35,054 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 19:01:46,780 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:01:46,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:01:46,780 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:01:46,780 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:01:46,780 INFO sqlalchemy.engine.Engine [cached since 152.2s ago] {'maternal_id_1': 1}
2025-09-09 19:01:46,780 - sqlalchemy.engine.Engine - INFO - [cached since 152.2s ago] {'maternal_id_1': 1}
2025-09-09 19:01:46,781 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:01:46,781 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 19:01:47,055 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:01:47,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:01:47,055 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:01:47,055 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:01:47,055 INFO sqlalchemy.engine.Engine [cached since 152.5s ago] {'maternal_id_1': 1}
2025-09-09 19:01:47,055 - sqlalchemy.engine.Engine - INFO - [cached since 152.5s ago] {'maternal_id_1': 1}
2025-09-09 19:01:47,055 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:01:47,055 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 19:02:08,738 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:02:08,738 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:02:08,739 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:08,739 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:08,739 INFO sqlalchemy.engine.Engine [cached since 174.2s ago] {'maternal_id_1': 1}
2025-09-09 19:02:08,739 - sqlalchemy.engine.Engine - INFO - [cached since 174.2s ago] {'maternal_id_1': 1}
2025-09-09 19:02:08,740 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:02:08,740 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 19:02:09,269 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:02:09,269 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:02:09,270 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:09,270 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:09,270 INFO sqlalchemy.engine.Engine [cached since 174.7s ago] {'maternal_id_1': 1}
2025-09-09 19:02:09,270 - sqlalchemy.engine.Engine - INFO - [cached since 174.7s ago] {'maternal_id_1': 1}
2025-09-09 19:02:09,270 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:02:09,270 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 19:02:28,395 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:02:28,395 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:02:28,395 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:28,395 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:28,395 INFO sqlalchemy.engine.Engine [cached since 193.8s ago] {'maternal_id_1': 1}
2025-09-09 19:02:28,395 - sqlalchemy.engine.Engine - INFO - [cached since 193.8s ago] {'maternal_id_1': 1}
2025-09-09 19:02:28,396 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:02:28,396 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 19:02:28,863 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:02:28,863 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:02:28,864 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:28,864 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:28,864 INFO sqlalchemy.engine.Engine [cached since 194.3s ago] {'maternal_id_1': 1}
2025-09-09 19:02:28,864 - sqlalchemy.engine.Engine - INFO - [cached since 194.3s ago] {'maternal_id_1': 1}
2025-09-09 19:02:28,864 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:02:28,864 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 19:02:41,905 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:02:41,905 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:02:41,906 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:41,906 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:41,906 INFO sqlalchemy.engine.Engine [cached since 207.3s ago] {'maternal_id_1': 1}
2025-09-09 19:02:41,906 - sqlalchemy.engine.Engine - INFO - [cached since 207.3s ago] {'maternal_id_1': 1}
2025-09-09 19:02:41,906 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:02:41,906 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 19:02:42,199 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 19:02:42,199 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 19:02:42,199 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:42,199 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 19:02:42,199 INFO sqlalchemy.engine.Engine [cached since 207.6s ago] {'maternal_id_1': 1}
2025-09-09 19:02:42,199 - sqlalchemy.engine.Engine - INFO - [cached since 207.6s ago] {'maternal_id_1': 1}
2025-09-09 19:02:42,199 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 19:02:42,199 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 21:59:59,169 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 21:59:59,169 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 21:59:59,169 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 21:59:59,169 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-09 21:59:59,169 INFO sqlalchemy.engine.Engine [cached since 1.084e+04s ago] {'maternal_id_1': 1}
2025-09-09 21:59:59,169 - sqlalchemy.engine.Engine - INFO - [cached since 1.084e+04s ago] {'maternal_id_1': 1}
2025-09-09 21:59:59,170 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 21:59:59,170 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-09 22:00:11,146 - pregnant-workflow-api - INFO - 接收孕妇工作流请求：maternal_id=1, chat_id=chat_1757426399944_so544cms0, input=你好...
2025-09-09 22:00:11,152 - backend.workflow.test - INFO - 路径解析完成， 图片路径=None，文档路径=None
2025-09-09 22:00:11,156 - backend.workflow.test - INFO - 启动混合智能体，开始融合用户输入与文件内容
2025-09-09 22:00:11,157 - backend.workflow.test - WARNING - 混合智能体未返回有效融合内容（无文件或内容为空）
结果整合完成：共0个来源
mix_result {'input': '你好', 'doc_file_path': '', 'img_file_path': '', 'combined_results': []}
combined_result []
2025-09-09 22:00:11,161 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-09-09 22:00:11,161 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-09 22:00:11,161 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-09 22:00:11,161 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-09 22:00:11,161 INFO sqlalchemy.engine.Engine select current_schema()
2025-09-09 22:00:11,161 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-09 22:00:11,161 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-09 22:00:11,161 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-09 22:00:11,161 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-09-09 22:00:11,161 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-09 22:00:11,161 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-09 22:00:11,161 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-09 22:00:11,161 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 22:00:11,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 22:00:11,162 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,162 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,163 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,163 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,163 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,163 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,163 INFO sqlalchemy.engine.Engine [cached since 0.0009507s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,163 - sqlalchemy.engine.Engine - INFO - [cached since 0.0009507s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,164 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,164 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,164 INFO sqlalchemy.engine.Engine [cached since 0.001293s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,164 - sqlalchemy.engine.Engine - INFO - [cached since 0.001293s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,164 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,164 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,164 INFO sqlalchemy.engine.Engine [cached since 0.001568s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,164 - sqlalchemy.engine.Engine - INFO - [cached since 0.001568s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,164 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,164 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,164 INFO sqlalchemy.engine.Engine [cached since 0.001817s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,164 - sqlalchemy.engine.Engine - INFO - [cached since 0.001817s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,164 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,164 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-09 22:00:11,164 INFO sqlalchemy.engine.Engine [cached since 0.00206s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,164 - sqlalchemy.engine.Engine - INFO - [cached since 0.00206s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-09 22:00:11,165 INFO sqlalchemy.engine.Engine COMMIT
2025-09-09 22:00:11,165 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-09 22:00:11,165 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-09 22:00:11,165 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-09 22:00:11,166 INFO sqlalchemy.engine.Engine SELECT maternal_dialogue.id AS maternal_dialogue_id, maternal_dialogue.maternal_id AS maternal_dialogue_maternal_id, maternal_dialogue.chat_id AS maternal_dialogue_chat_id, maternal_dialogue.dialogue_content AS maternal_dialogue_dialogue_content, maternal_dialogue.vector_store_path AS maternal_dialogue_vector_store_path, maternal_dialogue.created_at AS maternal_dialogue_created_at 
FROM maternal_dialogue 
WHERE maternal_dialogue.maternal_id = %(maternal_id_1)s AND maternal_dialogue.chat_id = %(chat_id_1)s
2025-09-09 22:00:11,166 - sqlalchemy.engine.Engine - INFO - SELECT maternal_dialogue.id AS maternal_dialogue_id, maternal_dialogue.maternal_id AS maternal_dialogue_maternal_id, maternal_dialogue.chat_id AS maternal_dialogue_chat_id, maternal_dialogue.dialogue_content AS maternal_dialogue_dialogue_content, maternal_dialogue.vector_store_path AS maternal_dialogue_vector_store_path, maternal_dialogue.created_at AS maternal_dialogue_created_at 
FROM maternal_dialogue 
WHERE maternal_dialogue.maternal_id = %(maternal_id_1)s AND maternal_dialogue.chat_id = %(chat_id_1)s
2025-09-09 22:00:11,166 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'maternal_id_1': 1, 'chat_id_1': 'chat_1757426399944_so544cms0'}
2025-09-09 22:00:11,166 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] {'maternal_id_1': 1, 'chat_id_1': 'chat_1757426399944_so544cms0'}
2025-09-09 22:00:11,167 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-09 22:00:11,167 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-09 22:00:11,167 - backend.workflow.test - WARNING - 未查询到孕妇1的对话记录。默认使用空字符串
2025-09-09 22:00:11,170 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./data/models/embed/models--BAAI--bge-large-zh-v1.5/snapshots/79e7739b6ab944e86d6171e44d24c997fc1e0116
2025-09-09 22:00:11,746 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./data/models/embed/models--BAAI--bge-large-zh-v1.5/snapshots/79e7739b6ab944e86d6171e44d24c997fc1e0116
2025-09-09 22:00:12,284 - backend.workflow.test - INFO - 检索智能体调用完成，开始校验结果
2025-09-09 22:00:12,284 - backend.workflow.test - INFO - 检索智能体处理成功：检索到1条专家知识库结果，1条孕妇知识库结果
2025-09-09 22:00:12,285 - backend.workflow.test - INFO - 上下文处理完成，总长度：2063字符
2025-09-09 22:00:12,287 - backend.workflow.test - INFO - 启动合成智能体，开始生成合成输出
2025-09-09 22:00:19,741 - httpx - INFO - HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-09 22:00:19,750 - backend.workflow.test - INFO - 合成智能体处理成功：生成输出=您好，我是您的产科健康顾问，关于胎宝宝的小秘密，我来为您解答。

不过，您还没提出具体的问题呢～  ...
2025-09-09 22:00:19,751 - pregnant-workflow-api - INFO - 工作流执行完成：是否生成output=True，是否有错误=False
<class 'dict'>
output:  {'专家知识库': {'knowledge_fragments': [{'source': 'data\\raw_manuals\\《妇产科学》第10版.pdf', 'priority': 1, 'content': '14\n《中华人民共和国法定计量单位》 ， 实验室检查结果主要参考 《全国临床检验操作规程》\u2003\n（第 4 版） ， 药物名称采用 2020 版 《中国药典》 和 《中国药品通用名称》 。\n本教材为纸数融合的新形态教材， 除纸质教材外， 还有配套数字资源， 可通过纸质教材各\n章节所附的二维码识别获取内容。数字资源内容围绕执业医师考试大纲专业综合和实践技\n能要求， 包括纸质教材各章节重点教学内容相关的课件、 习题、 思考题解题思路、 案例分析、 思\n维导图、 图片、 视频、 动画、 三维模型等， 供教师课堂教学和学生课后复习使用。\n本教材是国家卫生健康委员会 “十四五” 规划教材， 供全国高等学校基础、 临床、 预防、\u2003\n口腔医学类专业本科生在临床学习阶段使用。为体现教材的广泛性和适用性， 参加编写的\n院校为39所， 涵盖部属院校、 省属院校和军队院校。全体编者均为临床和教学一线的妇产\n科资深专家。为了统一绘图风格， 邀请白城师范学院美术学院李俊毅为本教材重新绘制了\u2003\n50 幅插图。为保证教材质量， 在教材编写过程中， 先后召开了四次教材编写会议， 并邀请山东\n大学殷爱军、 彭加丽、 赵晨、 陈晶莹、 马心月、 张朝阳、 陈忠绍、 肖慧敏、 张皓程、 李壮和赵勇等人\n对教材涉及的海量文献资料进行了查证核实工作。除此之外， 还专门邀请了任慕兰等全国 50\n多位资深妇产科专家对教材初稿进行了审读， 采纳吸收了一些合理化意见。在此， 一并表示\n衷心的感谢。\n我们永远铭记 《妇产科学》 （第 1 ～ 9 版） 教材编者们为本版教材修订工作奠定的坚实基\n础， 衷心感谢他们的辛勤付出和卓越贡献， 在此， 向他们致以崇高的敬意。第10版 《妇产科\n学》 教材的内容和编排难免存在一些不当之处， 殷切希望全国广大师生和妇产科同道们给予\n批评指正， 以便再版时修正改进。\n孔北华\u3000山东大学齐鲁医院\n马\u3000丁\u3000华中科技大学同济医学院附属同济医院\n段\u3000涛\u3000同济大学附属妇产科医院\n2 0 2 4年3月1日'}]}, '孕妇知识库': {'knowledge_fragments': [{'source': 'data\\raw_manuals\\《妇产科学》第10版.pdf', 'priority': 1, 'content': '14\n《中华人民共和国法定计量单位》 ， 实验室检查结果主要参考 《全国临床检验操作规程》\u2003\n（第 4 版） ， 药物名称采用 2020 版 《中国药典》 和 《中国药品通用名称》 。\n本教材为纸数融合的新形态教材， 除纸质教材外， 还有配套数字资源， 可通过纸质教材各\n章节所附的二维码识别获取内容。数字资源内容围绕执业医师考试大纲专业综合和实践技\n能要求， 包括纸质教材各章节重点教学内容相关的课件、 习题、 思考题解题思路、 案例分析、 思\n维导图、 图片、 视频、 动画、 三维模型等， 供教师课堂教学和学生课后复习使用。\n本教材是国家卫生健康委员会 “十四五” 规划教材， 供全国高等学校基础、 临床、 预防、\u2003\n口腔医学类专业本科生在临床学习阶段使用。为体现教材的广泛性和适用性， 参加编写的\n院校为39所， 涵盖部属院校、 省属院校和军队院校。全体编者均为临床和教学一线的妇产\n科资深专家。为了统一绘图风格， 邀请白城师范学院美术学院李俊毅为本教材重新绘制了\u2003\n50 幅插图。为保证教材质量， 在教材编写过程中， 先后召开了四次教材编写会议， 并邀请山东\n大学殷爱军、 彭加丽、 赵晨、 陈晶莹、 马心月、 张朝阳、 陈忠绍、 肖慧敏、 张皓程、 李壮和赵勇等人\n对教材涉及的海量文献资料进行了查证核实工作。除此之外， 还专门邀请了任慕兰等全国 50\n多位资深妇产科专家对教材初稿进行了审读， 采纳吸收了一些合理化意见。在此， 一并表示\n衷心的感谢。\n我们永远铭记 《妇产科学》 （第 1 ～ 9 版） 教材编者们为本版教材修订工作奠定的坚实基\n础， 衷心感谢他们的辛勤付出和卓越贡献， 在此， 向他们致以崇高的敬意。第10版 《妇产科\n学》 教材的内容和编排难免存在一些不当之处， 殷切希望全国广大师生和妇产科同道们给予\n批评指正， 以便再版时修正改进。\n孔北华\u3000山东大学齐鲁医院\n马\u3000丁\u3000华中科技大学同济医学院附属同济医院\n段\u3000涛\u3000同济大学附属妇产科医院\n2 0 2 4年3月1日'}]}}
/root/project2/backend/prompt_engineering/templates/pregnant_mother/science_knowledge.yaml
INFO:     125.78.51.187:0 - "POST /api/v2/chat/qa HTTP/1.0" 200 OK
INFO:     125.78.51.187:0 - "POST /api/v2/maternal/undefined/dialogues HTTP/1.0" 422 Unprocessable Entity
2025-09-10 00:02:25,274 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:02:25,274 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:02:25,274 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:02:25,274 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:02:25,274 INFO sqlalchemy.engine.Engine [cached since 1.819e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:02:25,274 - sqlalchemy.engine.Engine - INFO - [cached since 1.819e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:02:25,275 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:02:25,275 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:02:25,292 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:02:25,292 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:02:25,292 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:02:25,292 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:02:25,292 INFO sqlalchemy.engine.Engine [cached since 1.819e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:02:25,292 - sqlalchemy.engine.Engine - INFO - [cached since 1.819e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:02:25,292 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:02:25,292 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:03:14,181 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:03:14,181 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:03:14,181 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:03:14,181 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:03:14,181 INFO sqlalchemy.engine.Engine [cached since 1.824e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:03:14,181 - sqlalchemy.engine.Engine - INFO - [cached since 1.824e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:03:14,182 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:03:14,182 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:03:26,341 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:03:26,341 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:03:26,342 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:03:26,342 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:03:26,342 INFO sqlalchemy.engine.Engine [cached since 2.225e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:03:26,342 - sqlalchemy.engine.Engine - INFO - [cached since 2.225e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:03:26,343 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:03:26,343 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
2025-09-10 00:04:37,378 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:04:37,378 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:04:37,378 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:04:37,378 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:04:37,378 INFO sqlalchemy.engine.Engine [cached since 1.832e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:04:37,378 - sqlalchemy.engine.Engine - INFO - [cached since 1.832e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:04:37,380 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:04:37,380 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:04:42,622 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:04:42,622 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:04:42,623 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:04:42,623 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:04:42,623 INFO sqlalchemy.engine.Engine [cached since 1.833e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:04:42,623 - sqlalchemy.engine.Engine - INFO - [cached since 1.833e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:04:42,623 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:04:42,623 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:05:47,238 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:05:47,238 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:05:47,239 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:05:47,239 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:05:47,239 INFO sqlalchemy.engine.Engine [cached since 1.839e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:05:47,239 - sqlalchemy.engine.Engine - INFO - [cached since 1.839e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:05:47,240 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:05:47,240 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:05:56,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:05:56,677 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:05:56,678 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:05:56,678 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:05:56,678 INFO sqlalchemy.engine.Engine [cached since 1.84e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:05:56,678 - sqlalchemy.engine.Engine - INFO - [cached since 1.84e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:05:56,678 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:05:56,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:05:56,708 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:05:56,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:05:56,708 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:05:56,708 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:05:56,708 INFO sqlalchemy.engine.Engine [cached since 1.84e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:05:56,708 - sqlalchemy.engine.Engine - INFO - [cached since 1.84e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:05:56,708 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:05:56,708 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:10:20,970 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:10:20,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:10:20,970 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:20,970 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:20,970 INFO sqlalchemy.engine.Engine [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:20,970 - sqlalchemy.engine.Engine - INFO - [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:20,971 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:10:20,971 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:10:23,379 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:10:23,379 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:10:23,379 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:23,379 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:23,379 INFO sqlalchemy.engine.Engine [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:23,379 - sqlalchemy.engine.Engine - INFO - [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:23,380 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:10:23,380 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:10:24,782 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:10:24,782 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:10:24,783 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:24,783 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:24,783 INFO sqlalchemy.engine.Engine [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:24,783 - sqlalchemy.engine.Engine - INFO - [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:24,783 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:10:24,783 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:10:26,068 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:10:26,068 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:10:26,068 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:26,068 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:26,068 INFO sqlalchemy.engine.Engine [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:26,068 - sqlalchemy.engine.Engine - INFO - [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:26,068 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:10:26,068 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:10:28,449 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:10:28,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:10:28,450 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:28,450 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:28,450 INFO sqlalchemy.engine.Engine [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:28,450 - sqlalchemy.engine.Engine - INFO - [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:28,451 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:10:28,451 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:10:29,545 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:10:29,545 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:10:29,545 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:29,545 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:29,546 INFO sqlalchemy.engine.Engine [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:29,546 - sqlalchemy.engine.Engine - INFO - [cached since 1.867e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:29,546 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:10:29,546 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:10:49,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:10:49,580 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:10:49,581 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:49,581 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:49,581 INFO sqlalchemy.engine.Engine [cached since 1.87e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:49,581 - sqlalchemy.engine.Engine - INFO - [cached since 1.87e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:49,582 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:10:49,582 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:10:51,505 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:10:51,505 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:10:51,505 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:51,505 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:10:51,505 INFO sqlalchemy.engine.Engine [cached since 1.87e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:51,505 - sqlalchemy.engine.Engine - INFO - [cached since 1.87e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:10:51,505 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:10:51,505 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:11:46,034 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:11:46,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:11:46,034 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:11:46,034 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:11:46,034 INFO sqlalchemy.engine.Engine [cached since 1.875e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:11:46,034 - sqlalchemy.engine.Engine - INFO - [cached since 1.875e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:11:46,035 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:11:46,035 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:11:47,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:11:47,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:11:47,634 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:11:47,634 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:11:47,634 INFO sqlalchemy.engine.Engine [cached since 1.875e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:11:47,634 - sqlalchemy.engine.Engine - INFO - [cached since 1.875e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:11:47,635 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:11:47,635 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:13:08,205 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:13:08,205 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:13:08,205 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:13:08,205 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:13:08,205 INFO sqlalchemy.engine.Engine [cached since 1.883e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:13:08,205 - sqlalchemy.engine.Engine - INFO - [cached since 1.883e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:13:08,206 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:13:08,206 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:13:58,878 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:13:58,878 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:13:58,879 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:13:58,879 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:13:58,879 INFO sqlalchemy.engine.Engine [cached since 1.888e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:13:58,879 - sqlalchemy.engine.Engine - INFO - [cached since 1.888e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:13:58,880 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:13:58,880 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:14:24,928 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:14:24,928 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:14:24,928 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:14:24,928 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:14:24,928 INFO sqlalchemy.engine.Engine [cached since 1.891e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:14:24,928 - sqlalchemy.engine.Engine - INFO - [cached since 1.891e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:14:24,929 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:14:24,929 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:14:25,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:14:25,224 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:14:25,224 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:14:25,224 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:14:25,224 INFO sqlalchemy.engine.Engine [cached since 1.891e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:14:25,224 - sqlalchemy.engine.Engine - INFO - [cached since 1.891e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:14:25,224 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:14:25,224 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:14:39,668 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:14:39,668 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:14:39,668 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:14:39,668 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:14:39,668 INFO sqlalchemy.engine.Engine [cached since 1.893e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:14:39,668 - sqlalchemy.engine.Engine - INFO - [cached since 1.893e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:14:39,669 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:14:39,669 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:14:39,958 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:14:39,958 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:14:39,958 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:14:39,958 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:14:39,958 INFO sqlalchemy.engine.Engine [cached since 1.893e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:14:39,958 - sqlalchemy.engine.Engine - INFO - [cached since 1.893e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:14:39,959 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:14:39,959 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:14:43,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:14:43,761 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:14:43,761 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:14:43,761 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:14:43,761 INFO sqlalchemy.engine.Engine [cached since 1.893e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:14:43,761 - sqlalchemy.engine.Engine - INFO - [cached since 1.893e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:14:43,762 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:14:43,762 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:15:13,036 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:15:13,036 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:15:13,037 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:15:13,037 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:15:13,037 INFO sqlalchemy.engine.Engine [cached since 1.896e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:15:13,037 - sqlalchemy.engine.Engine - INFO - [cached since 1.896e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:15:13,038 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:15:13,038 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:15:13,055 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:15:13,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:15:13,056 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:15:13,056 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:15:13,056 INFO sqlalchemy.engine.Engine [cached since 1.896e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:15:13,056 - sqlalchemy.engine.Engine - INFO - [cached since 1.896e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:15:13,056 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:15:13,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:15:36,491 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:15:36,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:15:36,491 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:15:36,491 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:15:36,491 INFO sqlalchemy.engine.Engine [cached since 1.898e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:15:36,491 - sqlalchemy.engine.Engine - INFO - [cached since 1.898e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:15:36,492 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:15:36,492 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:15:36,935 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:15:36,935 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:15:36,936 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:15:36,936 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:15:36,936 INFO sqlalchemy.engine.Engine [cached since 1.898e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:15:36,936 - sqlalchemy.engine.Engine - INFO - [cached since 1.898e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:15:36,936 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:15:36,936 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:16:03,432 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:16:03,432 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:16:03,433 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:16:03,433 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:16:03,433 INFO sqlalchemy.engine.Engine [cached since 1.901e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:16:03,433 - sqlalchemy.engine.Engine - INFO - [cached since 1.901e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:16:03,434 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:16:03,434 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:17:27,310 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:17:27,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:17:27,311 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:17:27,311 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:17:27,311 INFO sqlalchemy.engine.Engine [cached since 2.309e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:17:27,311 - sqlalchemy.engine.Engine - INFO - [cached since 2.309e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:17:27,312 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:17:27,312 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
2025-09-10 00:22:00,191 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:22:00,191 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:22:00,192 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:22:00,192 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:22:00,192 INFO sqlalchemy.engine.Engine [cached since 1.937e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:22:00,192 - sqlalchemy.engine.Engine - INFO - [cached since 1.937e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:22:00,192 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:22:00,192 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:22:22,289 - pregnant-workflow-api - INFO - 接收孕妇工作流请求：maternal_id=1, chat_id=chat_1757434919988_qm986kzr6, input=你好啊...
2025-09-10 00:22:22,295 - backend.workflow.test - INFO - 路径解析完成， 图片路径=None，文档路径=None
2025-09-10 00:22:22,298 - backend.workflow.test - INFO - 启动混合智能体，开始融合用户输入与文件内容
2025-09-10 00:22:22,301 - backend.workflow.test - WARNING - 混合智能体未返回有效融合内容（无文件或内容为空）
结果整合完成：共0个来源
mix_result {'input': '你好啊', 'doc_file_path': '', 'img_file_path': '', 'combined_results': []}
combined_result []
2025-09-10 00:22:22,307 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-09-10 00:22:22,307 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-10 00:22:22,307 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-10 00:22:22,307 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-10 00:22:22,307 INFO sqlalchemy.engine.Engine select current_schema()
2025-09-10 00:22:22,307 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-10 00:22:22,307 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-10 00:22:22,307 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-10 00:22:22,307 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-09-10 00:22:22,307 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-10 00:22:22,307 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-09-10 00:22:22,307 - sqlalchemy.engine.Engine - INFO - [raw sql] {}
2025-09-10 00:22:22,308 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:22:22,308 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:22:22,309 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,309 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,309 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,309 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] {'table_name': 'user', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,310 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,310 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,310 INFO sqlalchemy.engine.Engine [cached since 0.001104s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,310 - sqlalchemy.engine.Engine - INFO - [cached since 0.001104s ago] {'table_name': 'maternal_info', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,310 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,310 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,310 INFO sqlalchemy.engine.Engine [cached since 0.001473s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,310 - sqlalchemy.engine.Engine - INFO - [cached since 0.001473s ago] {'table_name': 'maternal_pregnancy_history', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,311 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,311 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,311 INFO sqlalchemy.engine.Engine [cached since 0.001798s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,311 - sqlalchemy.engine.Engine - INFO - [cached since 0.001798s ago] {'table_name': 'maternal_health_condition', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,311 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,311 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,311 INFO sqlalchemy.engine.Engine [cached since 0.002082s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,311 - sqlalchemy.engine.Engine - INFO - [cached since 0.002082s ago] {'table_name': 'maternal_medical_files', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,311 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,311 - sqlalchemy.engine.Engine - INFO - SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s, %(param_2)s, %(param_3)s, %(param_4)s, %(param_5)s]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s
2025-09-10 00:22:22,311 INFO sqlalchemy.engine.Engine [cached since 0.002345s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,311 - sqlalchemy.engine.Engine - INFO - [cached since 0.002345s ago] {'table_name': 'maternal_dialogue', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-09-10 00:22:22,311 INFO sqlalchemy.engine.Engine COMMIT
2025-09-10 00:22:22,311 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 00:22:22,312 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:22:22,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:22:22,313 INFO sqlalchemy.engine.Engine SELECT maternal_dialogue.id AS maternal_dialogue_id, maternal_dialogue.maternal_id AS maternal_dialogue_maternal_id, maternal_dialogue.chat_id AS maternal_dialogue_chat_id, maternal_dialogue.dialogue_content AS maternal_dialogue_dialogue_content, maternal_dialogue.vector_store_path AS maternal_dialogue_vector_store_path, maternal_dialogue.created_at AS maternal_dialogue_created_at 
FROM maternal_dialogue 
WHERE maternal_dialogue.maternal_id = %(maternal_id_1)s AND maternal_dialogue.chat_id = %(chat_id_1)s
2025-09-10 00:22:22,313 - sqlalchemy.engine.Engine - INFO - SELECT maternal_dialogue.id AS maternal_dialogue_id, maternal_dialogue.maternal_id AS maternal_dialogue_maternal_id, maternal_dialogue.chat_id AS maternal_dialogue_chat_id, maternal_dialogue.dialogue_content AS maternal_dialogue_dialogue_content, maternal_dialogue.vector_store_path AS maternal_dialogue_vector_store_path, maternal_dialogue.created_at AS maternal_dialogue_created_at 
FROM maternal_dialogue 
WHERE maternal_dialogue.maternal_id = %(maternal_id_1)s AND maternal_dialogue.chat_id = %(chat_id_1)s
2025-09-10 00:22:22,313 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'maternal_id_1': 1, 'chat_id_1': 'chat_1757434919988_qm986kzr6'}
2025-09-10 00:22:22,313 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] {'maternal_id_1': 1, 'chat_id_1': 'chat_1757434919988_qm986kzr6'}
2025-09-10 00:22:22,313 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:22:22,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-10 00:22:22,314 - backend.workflow.test - WARNING - 未查询到孕妇1的对话记录。默认使用空字符串
2025-09-10 00:22:22,317 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./data/models/embed/models--BAAI--bge-large-zh-v1.5/snapshots/79e7739b6ab944e86d6171e44d24c997fc1e0116
2025-09-10 00:22:22,889 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: ./data/models/embed/models--BAAI--bge-large-zh-v1.5/snapshots/79e7739b6ab944e86d6171e44d24c997fc1e0116
2025-09-10 00:22:23,419 - backend.workflow.test - INFO - 检索智能体调用完成，开始校验结果
2025-09-10 00:22:23,419 - backend.workflow.test - INFO - 检索智能体处理成功：检索到1条专家知识库结果，1条孕妇知识库结果
2025-09-10 00:22:23,420 - backend.workflow.test - INFO - 上下文处理完成，总长度：3027字符
2025-09-10 00:22:23,421 - backend.workflow.test - INFO - 启动合成智能体，开始生成合成输出
2025-09-10 00:22:28,951 - httpx - INFO - HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-10 00:22:28,960 - backend.workflow.test - INFO - 合成智能体处理成功：生成输出=你好，亲爱的孕妇朋友！我是您的产科医生兼健康教育者，很高兴为您服务。无论您有什么疑问或不适，请随时告...
2025-09-10 00:22:28,961 - pregnant-workflow-api - INFO - 工作流执行完成：是否生成output=True，是否有错误=False
<class 'dict'>
output:  {'专家知识库': {'knowledge_fragments': [{'source': 'data\\raw_manuals\\《妇产科学》第10版.pdf', 'priority': 1, 'content': '第10版\n第10版\n第10版\n第10版\n第10版\n第8版\n第10版\n第7版\n第7版\n第7版\n第8版\n第7版\n第8版\n第6版\n第6版\n第7版\n第6版\n第6版\n第6版\n第6版\n第5版\n第4版\n第3版\n第3版\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n耳鼻咽喉头颈外科学\n口腔科学\n皮肤性病学\n核医学\n流行病学\n预防医学\n中医学\n医学计算机应用\n体育\n医学细胞生物学\n医学遗传学\n临床药理学\n医学统计学\n医学伦理学\n临床流行病学与循证医学\n康复医学\n医学文献检索与论文写作\n卫生法\n医学导论\n全科医学概论\n麻醉学\n急诊与灾难医学\n医患沟通\n肿瘤学概论\n重症医学\n老年医学\n临床营养学\n医学人文导论\n医用高等数学\n医学物理学\n基础化学\n有机化学\n医学生物学\n系统解剖学\n局部解剖学\n组织学与胚胎学\n生物化学与分子生物学\n生理学\n医学微生物学\n人体寄生虫学\n医学免疫学\n病理学\n病理生理学\n药理学\n医学心理学\n法医学\n诊断学\n医学影像学\n内科学\n外科学\n妇产科学\n儿科学\n神经病学\n精神病学\n传染病学\n眼科学\n第8版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第8版\n第10版\n第10版\n第10版\n第8版\n第8版\n第10版\n第9版\n第10版\n第10版\n第10版\n第10版\n第9版\n第9版\n第10版\n第10版\n01\n02\n03\n04\n05\n06\n07\n08\n09\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n人卫官网  www.pmph.com\n人卫官方资讯发布平台\n策划编辑 邬 洁\n责任编辑 李 岩  邬 洁\n数字编辑 玄子男  雷 媛\n书籍设计 李 蹊  郭 淼\n第       版\n1010\n主 编 ｜ 孔北华 马 丁 段 涛\n副主编 ｜ 狄 文 朱 兰 漆洪波 吕卫国\n妇产科学\n第              \n版\n10\n10\n人卫APP\n获取海量医学学习资源\n妇产科学\nObstetrics and Gynecology\n上一版获首届全国教材建设奖全国优秀教材  一等奖       二等奖\n国家卫生健康委员会“十四五”规划教材\n全国高等学校教材\n供基础、临床、预防、口腔医学类专业用\n国家卫生健康委员会“十四五”规划教材\n全国高等学校教材\n供基础、临床、预防、口腔医学类专业用\n定 价：99.00 元\nʢୈ\x12\x11൛ʣ\x0fQEG\x01\x01\x01\x12\x01\x01\x01\x13\x11\x13\x15\x10\x18\x10\x17\x01\x01\x01\x1a\x1b\x14\x16\x1b\x15\x16'}]}, '孕妇知识库': {'knowledge_fragments': [{'source': 'data\\raw_manuals\\《妇产科学》第10版.pdf', 'priority': 1, 'content': '第10版\n第10版\n第10版\n第10版\n第10版\n第8版\n第10版\n第7版\n第7版\n第7版\n第8版\n第7版\n第8版\n第6版\n第6版\n第7版\n第6版\n第6版\n第6版\n第6版\n第5版\n第4版\n第3版\n第3版\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n耳鼻咽喉头颈外科学\n口腔科学\n皮肤性病学\n核医学\n流行病学\n预防医学\n中医学\n医学计算机应用\n体育\n医学细胞生物学\n医学遗传学\n临床药理学\n医学统计学\n医学伦理学\n临床流行病学与循证医学\n康复医学\n医学文献检索与论文写作\n卫生法\n医学导论\n全科医学概论\n麻醉学\n急诊与灾难医学\n医患沟通\n肿瘤学概论\n重症医学\n老年医学\n临床营养学\n医学人文导论\n医用高等数学\n医学物理学\n基础化学\n有机化学\n医学生物学\n系统解剖学\n局部解剖学\n组织学与胚胎学\n生物化学与分子生物学\n生理学\n医学微生物学\n人体寄生虫学\n医学免疫学\n病理学\n病理生理学\n药理学\n医学心理学\n法医学\n诊断学\n医学影像学\n内科学\n外科学\n妇产科学\n儿科学\n神经病学\n精神病学\n传染病学\n眼科学\n第8版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第10版\n第8版\n第10版\n第10版\n第10版\n第8版\n第8版\n第10版\n第9版\n第10版\n第10版\n第10版\n第10版\n第9版\n第9版\n第10版\n第10版\n01\n02\n03\n04\n05\n06\n07\n08\n09\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n人卫官网  www.pmph.com\n人卫官方资讯发布平台\n策划编辑 邬 洁\n责任编辑 李 岩  邬 洁\n数字编辑 玄子男  雷 媛\n书籍设计 李 蹊  郭 淼\n第       版\n1010\n主 编 ｜ 孔北华 马 丁 段 涛\n副主编 ｜ 狄 文 朱 兰 漆洪波 吕卫国\n妇产科学\n第              \n版\n10\n10\n人卫APP\n获取海量医学学习资源\n妇产科学\nObstetrics and Gynecology\n上一版获首届全国教材建设奖全国优秀教材  一等奖       二等奖\n国家卫生健康委员会“十四五”规划教材\n全国高等学校教材\n供基础、临床、预防、口腔医学类专业用\n国家卫生健康委员会“十四五”规划教材\n全国高等学校教材\n供基础、临床、预防、口腔医学类专业用\n定 价：99.00 元\nʢୈ\x12\x11൛ʣ\x0fQEG\x01\x01\x01\x12\x01\x01\x01\x13\x11\x13\x15\x10\x18\x10\x17\x01\x01\x01\x1a\x1b\x14\x16\x1b\x15\x16'}]}}
/root/project2/backend/prompt_engineering/templates/pregnant_mother/pregnant_mother_symptom.yaml
INFO:     125.78.51.187:0 - "POST /api/v2/chat/qa HTTP/1.0" 200 OK
INFO:     125.78.51.187:0 - "POST /api/v2/maternal/undefined/dialogues HTTP/1.0" 422 Unprocessable Entity
2025-09-10 00:22:47,675 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:22:47,675 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:22:47,676 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:22:47,676 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:22:47,676 INFO sqlalchemy.engine.Engine [cached since 1.941e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:22:47,676 - sqlalchemy.engine.Engine - INFO - [cached since 1.941e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:22:47,677 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:22:47,677 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:35:43,902 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:35:43,902 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:35:43,902 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:35:43,902 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:35:43,903 INFO sqlalchemy.engine.Engine [cached since 2.419e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:35:43,903 - sqlalchemy.engine.Engine - INFO - [cached since 2.419e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:35:43,903 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:35:43,903 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
2025-09-10 00:35:51,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:35:51,660 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:35:51,660 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:35:51,660 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:35:51,660 INFO sqlalchemy.engine.Engine [cached since 2.02e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:35:51,660 - sqlalchemy.engine.Engine - INFO - [cached since 2.02e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:35:51,661 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:35:51,661 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
INFO:     125.78.51.187:0 - "PUT /api/v2/maternal/1/health_condition?has_chronic_disease=true&allergy_history=%E6%97%A0&expected_delivery_date= HTTP/1.0" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/project2/backend/api/common/auth.py", line 37, in decorated_function
    auth_header = request.headers.get('Authorization')
                  ^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of request context.

This typically means that you attempted to use functionality that needed
an active HTTP request. Consult the documentation on testing for
information about how to avoid this problem.
INFO:     125.78.51.187:0 - "PUT /api/v2/maternal/1/health_condition?has_chronic_disease=true&allergy_history=%E6%97%A0&expected_delivery_date= HTTP/1.0" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/project2/backend/api/common/auth.py", line 37, in decorated_function
    auth_header = request.headers.get('Authorization')
                  ^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of request context.

This typically means that you attempted to use functionality that needed
an active HTTP request. Consult the documentation on testing for
information about how to avoid this problem.
2025-09-10 00:41:20,065 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:41:20,065 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:41:20,065 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:41:20,065 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:41:20,065 INFO sqlalchemy.engine.Engine [cached since 2.452e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:41:20,065 - sqlalchemy.engine.Engine - INFO - [cached since 2.452e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:41:20,066 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:41:20,066 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
2025-09-10 00:41:25,700 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:41:25,700 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:41:25,700 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:41:25,700 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:41:25,701 INFO sqlalchemy.engine.Engine [cached since 2.053e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:41:25,701 - sqlalchemy.engine.Engine - INFO - [cached since 2.053e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:41:25,701 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:41:25,701 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 00:42:44,523 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:42:44,523 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:42:44,524 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:42:44,524 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:42:44,524 INFO sqlalchemy.engine.Engine [cached since 2.461e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:42:44,524 - sqlalchemy.engine.Engine - INFO - [cached since 2.461e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:42:44,525 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:42:44,525 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
2025-09-10 00:53:32,601 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:53:32,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:53:32,602 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:53:32,602 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 00:53:32,602 INFO sqlalchemy.engine.Engine [cached since 2.525e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:53:32,602 - sqlalchemy.engine.Engine - INFO - [cached since 2.525e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 00:53:32,603 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:53:32,603 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
2025-09-10 00:53:46,499 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:53:46,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:53:46,499 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:53:46,499 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:53:46,499 INFO sqlalchemy.engine.Engine [cached since 2.127e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:53:46,499 - sqlalchemy.engine.Engine - INFO - [cached since 2.127e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:53:46,500 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:53:46,500 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
FastAPI收到的请求数据: 1
2025-09-10 00:54:01,422 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:54:01,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:54:01,422 INFO sqlalchemy.engine.Engine SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 00:54:01,422 - sqlalchemy.engine.Engine - INFO - SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 00:54:01,423 INFO sqlalchemy.engine.Engine [cached since 2.162e+04s ago] {'user_id_1': 1, 'param_1': 1}
2025-09-10 00:54:01,423 - sqlalchemy.engine.Engine - INFO - [cached since 2.162e+04s ago] {'user_id_1': 1, 'param_1': 1}
2025-09-10 00:54:01,423 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:54:01,423 - sqlalchemy.engine.Engine - INFO - ROLLBACK
model_dump结果： None
INFO:     125.78.51.187:0 - "PUT /api/v2/maternal/1/info HTTP/1.0" 404 Not Found
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/info HTTP/1.0" 405 Method Not Allowed
2025-09-10 00:55:03,177 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 00:55:03,177 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 00:55:03,178 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:55:03,178 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 00:55:03,178 INFO sqlalchemy.engine.Engine [cached since 2.135e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:55:03,178 - sqlalchemy.engine.Engine - INFO - [cached since 2.135e+04s ago] {'maternal_id_1': 1}
2025-09-10 00:55:03,179 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 00:55:03,179 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/info HTTP/1.0" 405 Method Not Allowed
FastAPI收到的请求数据: 222
2025-09-10 01:07:58,990 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:07:58,990 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:07:58,990 INFO sqlalchemy.engine.Engine SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 01:07:58,990 - sqlalchemy.engine.Engine - INFO - SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 01:07:58,990 INFO sqlalchemy.engine.Engine [cached since 2.246e+04s ago] {'user_id_1': 111111, 'param_1': 1}
2025-09-10 01:07:58,990 - sqlalchemy.engine.Engine - INFO - [cached since 2.246e+04s ago] {'user_id_1': 111111, 'param_1': 1}
2025-09-10 01:07:58,992 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:07:58,992 - sqlalchemy.engine.Engine - INFO - ROLLBACK
model_dump结果： None
INFO:     125.78.51.187:0 - "PUT /api/v2/maternal/111111/info HTTP/1.0" 404 Not Found
2025-09-10 01:09:23,448 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:09:23,448 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:09:23,448 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 01:09:23,448 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 01:09:23,449 INFO sqlalchemy.engine.Engine [cached since 2.62e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 01:09:23,449 - sqlalchemy.engine.Engine - INFO - [cached since 2.62e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 01:09:23,449 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:09:23,449 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
2025-09-10 01:11:13,026 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:11:13,026 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:11:13,026 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:11:13,026 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:11:13,026 INFO sqlalchemy.engine.Engine [cached since 2.232e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:11:13,026 - sqlalchemy.engine.Engine - INFO - [cached since 2.232e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:11:13,027 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:11:13,027 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 01:11:17,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:11:17,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:11:17,301 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:11:17,301 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:11:17,301 INFO sqlalchemy.engine.Engine [cached since 2.232e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:11:17,301 - sqlalchemy.engine.Engine - INFO - [cached since 2.232e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:11:17,302 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:11:17,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 01:11:35,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:11:35,826 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:11:35,826 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 01:11:35,826 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 01:11:35,826 INFO sqlalchemy.engine.Engine [cached since 2.634e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 01:11:35,826 - sqlalchemy.engine.Engine - INFO - [cached since 2.634e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 01:11:35,827 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:11:35,827 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
FastAPI收到的请求数据: 1
2025-09-10 01:12:00,045 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:12:00,045 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:12:00,045 INFO sqlalchemy.engine.Engine SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 01:12:00,045 - sqlalchemy.engine.Engine - INFO - SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 01:12:00,045 INFO sqlalchemy.engine.Engine [cached since 2.27e+04s ago] {'user_id_1': 43, 'param_1': 1}
2025-09-10 01:12:00,045 - sqlalchemy.engine.Engine - INFO - [cached since 2.27e+04s ago] {'user_id_1': 43, 'param_1': 1}
2025-09-10 01:12:00,048 INFO sqlalchemy.engine.Engine UPDATE maternal_info SET id_card=%(id_card)s, phone=%(phone)s, expected_delivery_date=%(expected_delivery_date)s WHERE maternal_info.id = %(maternal_info_id)s
2025-09-10 01:12:00,048 - sqlalchemy.engine.Engine - INFO - UPDATE maternal_info SET id_card=%(id_card)s, phone=%(phone)s, expected_delivery_date=%(expected_delivery_date)s WHERE maternal_info.id = %(maternal_info_id)s
2025-09-10 01:12:00,048 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'id_card': '1', 'phone': '1', 'expected_delivery_date': datetime.date(2025, 10, 10), 'maternal_info_id': 17}
2025-09-10 01:12:00,048 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] {'id_card': '1', 'phone': '1', 'expected_delivery_date': datetime.date(2025, 10, 10), 'maternal_info_id': 17}
2025-09-10 01:12:00,049 INFO sqlalchemy.engine.Engine COMMIT
2025-09-10 01:12:00,049 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 01:12:00,053 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:12:00,053 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:12:00,053 INFO sqlalchemy.engine.Engine SELECT maternal_info.id, maternal_info.user_id, maternal_info.id_card, maternal_info.phone, maternal_info.current_gestational_week, maternal_info.expected_delivery_date, maternal_info.maternal_age 
FROM maternal_info 
WHERE maternal_info.id = %(pk_1)s
2025-09-10 01:12:00,053 - sqlalchemy.engine.Engine - INFO - SELECT maternal_info.id, maternal_info.user_id, maternal_info.id_card, maternal_info.phone, maternal_info.current_gestational_week, maternal_info.expected_delivery_date, maternal_info.maternal_age 
FROM maternal_info 
WHERE maternal_info.id = %(pk_1)s
2025-09-10 01:12:00,053 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'pk_1': 17}
2025-09-10 01:12:00,053 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] {'pk_1': 17}
2025-09-10 01:12:00,054 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:12:00,054 - sqlalchemy.engine.Engine - INFO - ROLLBACK
model_dump结果： {'id': 17, 'user_id': 43, 'id_card': '1', 'phone': '1', 'current_gestational_week': None, 'expected_delivery_date': '2025-10-10', 'maternal_age': None}
INFO:     125.78.51.187:0 - "PUT /api/v2/maternal/43/info HTTP/1.0" 200 OK
INFO:     125.78.51.187:0 - "PUT /api/v2/maternal/43/pregnancy_history?gravidity=1&parity=1&abortion_times=1&expected_delivery_date=2025-10-10 HTTP/1.0" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/project2/backend/api/common/auth.py", line 37, in decorated_function
    auth_header = request.headers.get('Authorization')
                  ^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of request context.

This typically means that you attempted to use functionality that needed
an active HTTP request. Consult the documentation on testing for
information about how to avoid this problem.
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/43/pregnancy_history?gravidity=1&parity=1&abortion_times=1&expected_delivery_date=2025-10-10 HTTP/1.0" 405 Method Not Allowed
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/43/pregnancy_history?gravidity=1&parity=1&abortion_times=1&expected_delivery_date=2025-10-10 HTTP/1.0" 405 Method Not Allowed
2025-09-10 01:14:12,138 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:14:12,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:14:12,138 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 01:14:12,138 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 01:14:12,138 INFO sqlalchemy.engine.Engine [cached since 2.649e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 01:14:12,138 - sqlalchemy.engine.Engine - INFO - [cached since 2.649e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 01:14:12,139 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:14:12,139 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
FastAPI收到的请求数据: 1
2025-09-10 01:14:29,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:14:29,939 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:14:29,939 INFO sqlalchemy.engine.Engine SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 01:14:29,939 - sqlalchemy.engine.Engine - INFO - SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 01:14:29,939 INFO sqlalchemy.engine.Engine [cached since 2.285e+04s ago] {'user_id_1': 43, 'param_1': 1}
2025-09-10 01:14:29,939 - sqlalchemy.engine.Engine - INFO - [cached since 2.285e+04s ago] {'user_id_1': 43, 'param_1': 1}
2025-09-10 01:14:29,941 INFO sqlalchemy.engine.Engine COMMIT
2025-09-10 01:14:29,941 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 01:14:29,941 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:14:29,941 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:14:29,941 INFO sqlalchemy.engine.Engine SELECT maternal_info.id, maternal_info.user_id, maternal_info.id_card, maternal_info.phone, maternal_info.current_gestational_week, maternal_info.expected_delivery_date, maternal_info.maternal_age 
FROM maternal_info 
WHERE maternal_info.id = %(pk_1)s
2025-09-10 01:14:29,941 - sqlalchemy.engine.Engine - INFO - SELECT maternal_info.id, maternal_info.user_id, maternal_info.id_card, maternal_info.phone, maternal_info.current_gestational_week, maternal_info.expected_delivery_date, maternal_info.maternal_age 
FROM maternal_info 
WHERE maternal_info.id = %(pk_1)s
2025-09-10 01:14:29,941 INFO sqlalchemy.engine.Engine [cached since 149.9s ago] {'pk_1': 17}
2025-09-10 01:14:29,941 - sqlalchemy.engine.Engine - INFO - [cached since 149.9s ago] {'pk_1': 17}
2025-09-10 01:14:29,941 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:14:29,941 - sqlalchemy.engine.Engine - INFO - ROLLBACK
model_dump结果： {'id': 17, 'user_id': 43, 'id_card': '1', 'phone': '1', 'current_gestational_week': None, 'expected_delivery_date': '2025-10-10', 'maternal_age': None}
INFO:     125.78.51.187:0 - "PUT /api/v2/maternal/43/info HTTP/1.0" 200 OK
INFO:     125.78.51.187:0 - "PUT /api/v2/maternal/43/pregnancy_history HTTP/1.0" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/project2/backend/api/common/auth.py", line 37, in decorated_function
    auth_header = request.headers.get('Authorization')
                  ^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of request context.

This typically means that you attempted to use functionality that needed
an active HTTP request. Consult the documentation on testing for
information about how to avoid this problem.
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/43/pregnancy_history HTTP/1.0" 405 Method Not Allowed
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/43/info HTTP/1.0" 405 Method Not Allowed
2025-09-10 01:21:45,356 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:21:45,356 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:21:45,356 INFO sqlalchemy.engine.Engine SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 01:21:45,356 - sqlalchemy.engine.Engine - INFO - SELECT "user".id AS user_id, "user".username AS user_username, "user".password_hash AS user_password_hash, "user".user_type AS user_user_type, "user".created_at AS user_created_at 
FROM "user" 
WHERE "user".username = %(username_1)s 
 LIMIT %(param_1)s
2025-09-10 01:21:45,356 INFO sqlalchemy.engine.Engine [cached since 2.695e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 01:21:45,356 - sqlalchemy.engine.Engine - INFO - [cached since 2.695e+04s ago] {'username_1': '111111', 'param_1': 1}
2025-09-10 01:21:45,357 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:21:45,357 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "POST /api/v2/auth/login HTTP/1.0" 200 OK
2025-09-10 01:21:57,144 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:21:57,144 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:21:57,144 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:21:57,144 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:21:57,144 INFO sqlalchemy.engine.Engine [cached since 2.296e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:21:57,144 - sqlalchemy.engine.Engine - INFO - [cached since 2.296e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:21:57,145 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:21:57,145 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 01:23:02,512 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:23:02,512 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:23:02,513 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:23:02,513 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:23:02,513 INFO sqlalchemy.engine.Engine [cached since 2.303e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:23:02,513 - sqlalchemy.engine.Engine - INFO - [cached since 2.303e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:23:02,513 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:23:02,513 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 01:23:15,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:23:15,730 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:23:15,730 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:23:15,730 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:23:15,730 INFO sqlalchemy.engine.Engine [cached since 2.304e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:23:15,730 - sqlalchemy.engine.Engine - INFO - [cached since 2.304e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:23:15,731 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:23:15,731 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
2025-09-10 01:23:23,678 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 01:23:23,678 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 01:23:23,678 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:23:23,678 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id AS maternal_medical_files_id, maternal_medical_files.maternal_id AS maternal_medical_files_maternal_id, maternal_medical_files.file_name AS maternal_medical_files_file_name, maternal_medical_files.file_path AS maternal_medical_files_file_path, maternal_medical_files.file_type AS maternal_medical_files_file_type, maternal_medical_files.file_size AS maternal_medical_files_file_size, maternal_medical_files.upload_time AS maternal_medical_files_upload_time, maternal_medical_files.file_desc AS maternal_medical_files_file_desc, maternal_medical_files.check_date AS maternal_medical_files_check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.maternal_id = %(maternal_id_1)s AND maternal_medical_files.file_name IS NULL
2025-09-10 01:23:23,678 INFO sqlalchemy.engine.Engine [cached since 2.305e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:23:23,678 - sqlalchemy.engine.Engine - INFO - [cached since 2.305e+04s ago] {'maternal_id_1': 1}
2025-09-10 01:23:23,679 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 01:23:23,679 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     125.78.51.187:0 - "GET /api/v2/maternal/1/files HTTP/1.0" 200 OK
INFO:     111.117.112.67:0 - "GET /docs HTTP/1.0" 200 OK
INFO:     111.117.112.67:0 - "GET /openapi.json HTTP/1.0" 200 OK
INFO:     111.117.112.67:0 - "PUT /api/v2/maternal/1/pregnancy_history HTTP/1.0" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/project2/backend/api/common/auth.py", line 37, in decorated_function
    auth_header = request.headers.get('Authorization')
                  ^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of request context.

This typically means that you attempted to use functionality that needed
an active HTTP request. Consult the documentation on testing for
information about how to avoid this problem.
INFO:     111.117.112.67:0 - "PUT /api/v2/maternal/0/pregnancy_history HTTP/1.0" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/project2/backend/api/common/auth.py", line 37, in decorated_function
    auth_header = request.headers.get('Authorization')
                  ^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/anaconda3/envs/rag/lib/python3.11/site-packages/werkzeug/local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of request context.

This typically means that you attempted to use functionality that needed
an active HTTP request. Consult the documentation on testing for
information about how to avoid this problem.
INFO:     111.117.112.67:0 - "GET /docs HTTP/1.0" 200 OK
INFO:     111.117.112.67:0 - "GET /openapi.json HTTP/1.0" 200 OK
INFO:     111.117.112.67:0 - "POST /api/v2/maternal/1/files HTTP/1.0" 500 Internal Server Error
2025-09-10 08:53:52,687 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 08:53:52,687 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 08:53:52,687 INFO sqlalchemy.engine.Engine SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.id = %(id_1)s 
 LIMIT %(param_1)s
2025-09-10 08:53:52,687 - sqlalchemy.engine.Engine - INFO - SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.id = %(id_1)s 
 LIMIT %(param_1)s
2025-09-10 08:53:52,687 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'id_1': 1, 'param_1': 1}
2025-09-10 08:53:52,687 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] {'id_1': 1, 'param_1': 1}
2025-09-10 08:53:52,689 INFO sqlalchemy.engine.Engine INSERT INTO maternal_medical_files (maternal_id, file_name, file_path, file_type, file_size, upload_time, file_desc, check_date) VALUES (%(maternal_id)s, %(file_name)s, %(file_path)s, %(file_type)s, %(file_size)s, %(upload_time)s, %(file_desc)s, %(check_date)s) RETURNING maternal_medical_files.id
2025-09-10 08:53:52,689 - sqlalchemy.engine.Engine - INFO - INSERT INTO maternal_medical_files (maternal_id, file_name, file_path, file_type, file_size, upload_time, file_desc, check_date) VALUES (%(maternal_id)s, %(file_name)s, %(file_path)s, %(file_type)s, %(file_size)s, %(upload_time)s, %(file_desc)s, %(check_date)s) RETURNING maternal_medical_files.id
2025-09-10 08:53:52,689 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'maternal_id': 1, 'file_name': 'Conditional detr.pdf', 'file_path': 'uploads/maternal_files/1/579cce12-9901-49d7-bb42-852140887a29.pdf', 'file_type': 'application/pdf', 'file_size': 7605257, 'upload_time': datetime.datetime(2025, 9, 10, 8, 53, 52, 686628), 'file_desc': '测试', 'check_date': datetime.date(2025, 9, 10)}
2025-09-10 08:53:52,689 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] {'maternal_id': 1, 'file_name': 'Conditional detr.pdf', 'file_path': 'uploads/maternal_files/1/579cce12-9901-49d7-bb42-852140887a29.pdf', 'file_type': 'application/pdf', 'file_size': 7605257, 'upload_time': datetime.datetime(2025, 9, 10, 8, 53, 52, 686628), 'file_desc': '测试', 'check_date': datetime.date(2025, 9, 10)}
2025-09-10 08:53:52,690 INFO sqlalchemy.engine.Engine COMMIT
2025-09-10 08:53:52,690 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 08:53:52,693 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 08:53:52,693 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 08:53:52,693 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id, maternal_medical_files.maternal_id, maternal_medical_files.file_name, maternal_medical_files.file_path, maternal_medical_files.file_type, maternal_medical_files.file_size, maternal_medical_files.upload_time, maternal_medical_files.file_desc, maternal_medical_files.check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.id = %(pk_1)s
2025-09-10 08:53:52,693 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id, maternal_medical_files.maternal_id, maternal_medical_files.file_name, maternal_medical_files.file_path, maternal_medical_files.file_type, maternal_medical_files.file_size, maternal_medical_files.upload_time, maternal_medical_files.file_desc, maternal_medical_files.check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.id = %(pk_1)s
2025-09-10 08:53:52,693 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'pk_1': 60}
2025-09-10 08:53:52,693 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] {'pk_1': 60}
2025-09-10 08:53:52,694 INFO sqlalchemy.engine.Engine COMMIT
2025-09-10 08:53:52,694 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-10 08:53:52,694 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 08:53:52,694 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 08:53:52,694 INFO sqlalchemy.engine.Engine SELECT maternal_medical_files.id, maternal_medical_files.maternal_id, maternal_medical_files.file_name, maternal_medical_files.file_path, maternal_medical_files.file_type, maternal_medical_files.file_size, maternal_medical_files.upload_time, maternal_medical_files.file_desc, maternal_medical_files.check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.id = %(pk_1)s
2025-09-10 08:53:52,694 - sqlalchemy.engine.Engine - INFO - SELECT maternal_medical_files.id, maternal_medical_files.maternal_id, maternal_medical_files.file_name, maternal_medical_files.file_path, maternal_medical_files.file_type, maternal_medical_files.file_size, maternal_medical_files.upload_time, maternal_medical_files.file_desc, maternal_medical_files.check_date 
FROM maternal_medical_files 
WHERE maternal_medical_files.id = %(pk_1)s
2025-09-10 08:53:52,694 INFO sqlalchemy.engine.Engine [cached since 0.001151s ago] {'pk_1': 60}
2025-09-10 08:53:52,694 - sqlalchemy.engine.Engine - INFO - [cached since 0.001151s ago] {'pk_1': 60}
2025-09-10 08:53:52,695 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 08:53:52,695 - sqlalchemy.engine.Engine - INFO - ROLLBACK
INFO:     111.117.112.67:0 - "POST /api/v2/maternal/1/files HTTP/1.0" 201 Created
FastAPI收到的请求数据: string
2025-09-10 08:54:35,785 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 08:54:35,785 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 08:54:35,786 INFO sqlalchemy.engine.Engine SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 08:54:35,786 - sqlalchemy.engine.Engine - INFO - SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 08:54:35,786 INFO sqlalchemy.engine.Engine [cached since 5.046e+04s ago] {'user_id_1': 0, 'param_1': 1}
2025-09-10 08:54:35,786 - sqlalchemy.engine.Engine - INFO - [cached since 5.046e+04s ago] {'user_id_1': 0, 'param_1': 1}
2025-09-10 08:54:35,786 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 08:54:35,786 - sqlalchemy.engine.Engine - INFO - ROLLBACK
model_dump结果： None
INFO:     111.117.112.67:0 - "PUT /api/v2/maternal/0/info HTTP/1.0" 404 Not Found
FastAPI收到的请求数据: string
2025-09-10 08:54:41,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-10 08:54:41,150 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-10 08:54:41,150 INFO sqlalchemy.engine.Engine SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 08:54:41,150 - sqlalchemy.engine.Engine - INFO - SELECT maternal_info.id AS maternal_info_id, maternal_info.user_id AS maternal_info_user_id, maternal_info.id_card AS maternal_info_id_card, maternal_info.phone AS maternal_info_phone, maternal_info.current_gestational_week AS maternal_info_current_gestational_week, maternal_info.expected_delivery_date AS maternal_info_expected_delivery_date, maternal_info.maternal_age AS maternal_info_maternal_age 
FROM maternal_info 
WHERE maternal_info.user_id = %(user_id_1)s 
 LIMIT %(param_1)s
2025-09-10 08:54:41,150 INFO sqlalchemy.engine.Engine [cached since 5.046e+04s ago] {'user_id_1': 1, 'param_1': 1}
2025-09-10 08:54:41,150 - sqlalchemy.engine.Engine - INFO - [cached since 5.046e+04s ago] {'user_id_1': 1, 'param_1': 1}
2025-09-10 08:54:41,151 INFO sqlalchemy.engine.Engine ROLLBACK
2025-09-10 08:54:41,151 - sqlalchemy.engine.Engine - INFO - ROLLBACK
model_dump结果： None
INFO:     111.117.112.67:0 - "PUT /api/v2/maternal/1/info HTTP/1.0" 404 Not Found
INFO:     223.73.115.173:0 - "GET /docs/ HTTP/1.0" 307 Temporary Redirect
